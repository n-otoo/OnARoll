<!doctype html>
<html style="height:100%">
	<head>
		<meta charset="utf-8">
		<title>35mm</title>
		<!-- *** Load the AngularJS libraries here. *** -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js"></script>
		 
		
		<!-- *** Load the jQuery and jQueryUI libraries here. *** -->		
	  	<script src="https://code.jquery.com/jquery-3.5.0.min.js"></script>
		<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>

		<!-- *** Load jQueryUI default CSS from Google CDN. *** -->
		<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />

		<!-- Load the Controller -->
		<script src="OnARollController.js"></script>

		
		 		  
	</head>
	<body style="height:100%;width:100%" ng-app="OnARoll" ng-controller="OnARollController">
		<!--REUSABLE NG-IF BASED DIALOG FOR POPUPS -->
		<div style="width: 100%;height: 100%;z-index: 100;position: absolute;top: 0%;left: 0%;" ng-show="showPopup">
			<div style="z-index: 102;width: 80%;height: 80%;margin-left: 10%;margin-right:10%;position: absolute;top: 9%;left: 0%;border-radius: 25px;border: solid slategrey 4px; background-image: linear-gradient(white, seashell);">
				POPUP
			</div>
		</div>
		<div style="width:100%;height:100%" ng-style="{'filter': showPopup ? 'blur(2px)' : 'none'}">			
			<!--LOGIN PAGE -->	
			<div style="width:100%;background-image: linear-gradient(seashell, white);height:100%" ng-if="!loggedIn">
				<div style="position:absolute;top: 3% ;text-align:center;font-family: 'Courier New', Courier, monospace;font-size: 28pt;font-weight: 700;width:100%">On-A-Roll</div>
				<div style="position:absolute;top: 8%;text-align: center;font-family: 'Courier New', Courier, monospace;font-size: 20pt;width:100%">Never forget the settings or film you used on your analog camera again!</div>
				<span style="position:absolute;top: 50%;width: 100%;text-align: center;">Enter Username: <input type="text" ng-model="details.username"></span>
				<span style="position:absolute;top: 55%;width: 100%;text-align: center;"><button ng-click="login()">Login</button></span>
			</div>
			<!--MAIN ROLL DISPLAY PAGE -->	
			<div style="width:100%; background-image: linear-gradient(seashell, white);height:100%;text-align: center;align-content: center;" ng-if="loggedIn" ng-show="!display.popups.display"> 
				<span style="font-size: 24px;font-weight: 700;">Welcome! {{details.username}}</span>
				<div style="width: 70%;padding-right: 14%;padding-left: 14%;" ng-repeat="(key, value) in main.rolls track by $index">
					<span style="font-size: 16px;font-weight: 700;width: 100%;background-color:seashell;" ng-click="value.expand = !value.expand">Camera : {{key}} (Rolls: {{value.rolls.length}})</span>
					<div style="width: 100%;align-content: center;text-align: center;" ng-show="value.expand">
						<table><thead><tr style="text-align:center"><th>Name</th><th>Description</th><td>Shots:</td></tr></thead>
							<tbody>
								<tr ng-repeat="val in value.rolls">						
									<td style="text-align:left">{{val.name}}</td>
									<td style="text-align:left">{{val.description}}</td>
									<td style="font-weight: 800;text-align:left;"><button ng-click="openShotsDialog(val._id, val.shots.shots)">SHOTS</button> ({{val.shots.shots.length}})</td>
								</tr>
							</tbody>
						</table>
						<span style="width:100%;align-content: center;text-align: center;"><button ng-click="openAddRollDialog()">Add New Roll</button></span>
					</div>
				</div>
			</div>
			
		</div>
		
	</body>
</html>